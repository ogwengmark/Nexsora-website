<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Create Account - Sora Community</title>
<style>
  body {
    font-family: 'Poppins', sans-serif;
    background: url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80') no-repeat center center fixed;
    background-size: cover;
    color: #38bdf8;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0; padding: 0;
    user-select: none;
  }
  form {
    background: rgba(11,18,32,0.8);
    padding: 2rem;
    border-radius: 12px;
    width: 320px;
    box-shadow: 0 0 15px #38bdf8;
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
  label {
    font-weight: 600;
  }
  select, input[type="tel"] {
    padding: 0.6rem;
    border-radius: 8px;
    border: none;
    font-size: 1rem;
  }
  input[type="tel"]:focus, select:focus {
    outline: 2px solid #38bdf8;
    background: #142439;
    color: #d0e7f9;
  }
  button {
    margin-top: 1rem;
    padding: 0.75rem;
    background: #38bdf8;
    color: #0f172a;
    font-weight: 700;
    border: none;
    border-radius: 30px;
    cursor: pointer;
    font-size: 1.1rem;
    transition: background-color 0.3s ease;
  }
  button:hover {
    background-color: #0ea5e9;
  }
  .error {
    color: #ff4d4d;
    font-size: 0.9rem;
  }
</style>
</head>
<body>
  <form id="phoneForm" novalidate>
    <h2 style="text-align:center; margin-bottom:1rem;">Enter Your Phone Number</h2>

    <label for="country">Choose Country</label>
    <select id="country" name="country" required>
      <option value="" disabled selected>Select country</option>
      <option value="+1">United States (+1)</option>
      <option value="+44">United Kingdom (+44)</option>
      <option value="+256">Uganda (+256)</option>
      <option value="+91">India (+91)</option>
      <!-- add more as needed -->
    </select>

    <label for="phone">Phone Number</label>
    <input type="tel" id="phone" name="phone" required placeholder="e.g. 712345678" pattern="^\d{6,15}$" />

    <p id="errorMsg" class="error" aria-live="assertive"></p>

    <button type="submit">Register</button>
  </form>

<script>
  const form = document.getElementById('phoneForm');
  const errorMsg = document.getElementById('errorMsg');

  form.addEventListener('submit', e => {
    e.preventDefault();
    errorMsg.textContent = '';

    const countryCode = form.country.value;
    const phone = form.phone.value.trim();

    if (!countryCode) {
      errorMsg.textContent = 'Please select your country.';
      return;
    }

    const phonePattern = /^\d{6,15}$/;
    if (!phonePattern.test(phone)) {
      errorMsg.textContent = 'Please enter a valid phone number (6-15 digits).';
      return;
    }

    // Save phone number + country code to sessionStorage for next page
    sessionStorage.setItem('fullPhoneNumber', countryCode + phone);

    // Navigate to verification page
    window.location.href = 'verify-code.html';
  });
</script>
</body>
</html>
